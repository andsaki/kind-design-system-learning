# 0001. Panda CSSの採用

日付: 2025-12-02

## ステータス

承認済み

## コンテキスト

デザインシステムを構築するにあたり、スタイリングソリューションを選定する必要がありました。以下の要件を満たす必要がありました：

- **型安全性**: TypeScriptとの統合により、スタイルの型安全性を確保
- **パフォーマンス**: ビルド時にCSSを生成し、ランタイムオーバーヘッドを最小化
- **デザイントークン**: 一貫したデザイントークンシステムの構築
- **アクセシビリティ**: WCAGレベル（AA/AAA）に応じたスタイルのバリエーション対応
- **開発体験**: 直感的なAPI、優れたエディタサポート

### 検討した代替案

1. **Tailwind CSS**
   - 広く使用されており、エコシステムが充実
   - しかし、型安全性が弱く、デザイントークンのカスタマイズが複雑

2. **Styled Components / Emotion**
   - CSS-in-JSの標準的なソリューション
   - しかし、ランタイムオーバーヘッドがあり、パフォーマンスに影響

3. **Vanilla Extract**
   - ゼロランタイムで型安全
   - しかし、デザイントークンシステムの構築が手動で必要

4. **Panda CSS**
   - ゼロランタイム、型安全、デザイントークン統合
   - レシピ、パターン、条件付きスタイルをサポート

## 決定

Panda CSSをスタイリングソリューションとして採用する。

## 結果

### ポジティブな影響

- **型安全性の向上**: `css()`関数がTypeScriptで完全に型付けされ、IDEの補完が効く
- **パフォーマンス最適化**: ビルド時にCSSを生成し、ランタイムコストがゼロ
- **デザイントークンの一元管理**: `panda.config.ts`で色、フォント、スペーシングなどを一元管理
- **レシピシステム**: ボタン、インプットなどのコンポーネントバリアントを宣言的に定義可能
- **条件付きスタイル**: WCAGレベル（AA/AAA）に応じたスタイルの切り替えが容易
- **パターン**: 共通のレイアウトパターン（stack、hstack、vstack）を簡単に適用

### ネガティブな影響

- **学習コスト**: Panda CSS特有のAPIと概念を学ぶ必要がある
- **エコシステム**: Tailwind CSSと比較すると、コミュニティやプラグインが少ない
- **ビルド時間**: 初回ビルド時にCSSを生成するため、若干時間がかかる可能性

### トレードオフ

- **学習コストを犠牲にして、型安全性とパフォーマンスを獲得**
- **広大なエコシステムを犠牲にして、より統合されたデザインシステムを獲得**

## 参考資料

- [Panda CSS 公式ドキュメント](https://panda-css.com/)
- [Panda CSS GitHub](https://github.com/chakra-ui/panda)
- [Zero-runtime CSS-in-JS の比較](https://panda-css.com/docs/overview/why-panda)
